/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("ui.s2p.mm.ses.approve.util.Formatter");jQuery.sap.require("sap.ca.ui.model.format.AmountFormat");jQuery.sap.require("sap.ca.ui.model.format.QuantityFormat");jQuery.sap.require("sap.ui.core.format.DateFormat");jQuery.sap.require("sap.ca.ui.model.format.DateFormat");jQuery.sap.require("sap.ca.ui.model.format.FileSizeFormat");ui.s2p.mm.ses.approve.util.Formatter={parseDate:function(d){if(d==null){return null}if(d instanceof Date){return d}else{var y=d.substring(0,4);var m=d.substring(4,6)-1;var a=d.substring(6,8);var D=new Date(y,m,a);var s=D.toString().substring(0,15);return s}},getPeriodText:function(n,f,t){if(f&&t){var a=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"},sap.ui.getCore().getConfiguration().getLocale()).format(f);var b=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"},sap.ui.getCore().getConfiguration().getLocale()).format(t);return a+" - "+b}else{return n}},getCreatedOnText:function(l,L,d){if(d==null||d==""){return""}else{var D=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"daysAgo"},sap.ui.getCore().getConfiguration().getLocale()).format(d,true),s=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"},sap.ui.getCore().getConfiguration().getLocale()).format(d,true);if(D===s){return(l+" "+D)}else{return(L+" "+D)}}},formatQuantityWithLabel:function(l,n,q,Q){var a=ui.s2p.mm.ses.approve.util.Formatter.formatNumberQuantity(n);if(Q){return l+": "+a+" "+Q+"("+q+")"}else{return l+": "+a+" "+q}},getQuantityWithDescritption:function(n,q,Q){var a=ui.s2p.mm.ses.approve.util.Formatter.formatNumberQuantity(n);if(Q){return a+" "+Q+"("+q+")"}else{return a+" "+q}},calculateProgressPercentageValue:function(a,p){if(a&&p){return(a/p)}else{return(0.0)}},getProgressPercentageValue:function(a,p){var v=ui.s2p.mm.ses.approve.util.Formatter.calculateProgressPercentageValue(a,p);if(v>1){return(100.0)}else{return(v*100)}},getProgressPercentageText:function(a,p){var v=ui.s2p.mm.ses.approve.util.Formatter.calculateProgressPercentageValue(a,p)*100;var V;if(v<0){V=0}else{V=Math.round(v)}return(" "+V+" %")},getAmountWithCurrency:function(v,c,n){if(v&&c){var a=ui.s2p.mm.ses.approve.util.Formatter.formatCurrencyAmountStandard(v,c);return(a+" "+c)}else{return n}},formatStatus:function(s){var l="";switch(s){case"4":l=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("STATUS_SERVICE_UNPLANNED");break;case"3":l=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("STATUS_SERVICE_NO_DEVIATION");break;case"2":l=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("STATUS_SERVICE_OVERFULFILLMENT");break;case"1":l=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("STATUS_SERVICE_UNDERFULFILLMENT");break}return l},formatStatusWithLabel:function(l,s){var S=ui.s2p.mm.ses.approve.util.Formatter.formatStatus(s);return(l+": "+S)},getVisibility:function(i){if(i){return(true)}else{return(false)}},getVisibilityByNumString:function(i){if(!i){return(false)}else if(i==='00'){return(false)}else{return(true)}},getConcatenatedText:function(t,T){return(t+" "+T)},getConcatenatedTextWithSlash:function(t,T){return(t+"/"+T)},getCodeAndDescription:function(c,C){if(c&&C){return(C+" ("+c+")")}else if(c&&!C){return c}else if(!c&&C){return C}else{return""}},getCodeAndDescriptionWithNoData:function(n,c,C){if(c&&C){return ui.s2p.mm.ses.approve.util.Formatter.getCodeAndDescription(c,C)}else if(c&&!C){return c}else if(!c&&C){return C}else{return n}},isAttachmentsVisible:function(a){if(a!==null&&a!==undefined&&a.length!==0){this.setCount(a.length);return true}else{if(this.getParent().getSelectedKey()==="contentAttachments"){this.getParent().getSelectedKey("")}return false}},isNotesVisible:function(n){if(n!==null&&n!==undefined&&n.length!==0){this.setCount(n.length);return true}else{if(this.getParent().getSelectedKey()==="contentNotes"){this.getParent().getSelectedKey("")}return false}},formatNoteDateTime:function(d){if(d==null||d==""){return""}else{return sap.ca.ui.model.format.DateFormat.getDateTimeInstance({style:"medium"}).format(d)}},formatDaysAgo:function(d){if(d==null||d==""){return""}else{var f=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"daysAgo"},sap.ui.getCore().getConfiguration().getLocale());return f.format(d)}},formatCurrencyAmountShort:function(a,c){var f;var F;if(a){if(!isNaN(parseFloat(a))&&isFinite(a)){if(Math.abs(a)<1e6){F={style:"standard",showMeasure:false};f=sap.ui.core.format.NumberFormat.getCurrencyInstance(F)}else{F={style:"short",showMeasure:false};f=sap.ui.core.format.NumberFormat.getCurrencyInstance(F)}}}return(a)?f.format(parseFloat(a),c):a},formatCurrencyAmountStandard:function(a,c){var f={style:"standard",showMeasure:false};var C=sap.ui.core.format.NumberFormat.getCurrencyInstance(f);return(a)?C.format(parseFloat(a),c):a},formatNumberPercentage:function(v){var f={maxFractionDigits:1,minFractionDigits:1,groupingEnabled:false};var p=sap.ui.core.format.NumberFormat.getFloatInstance(f,sap.ui.getCore().getConfiguration().getLocale());return(v)?p.format(parseFloat(v)):v},formatNumberQuantity:function(q){var Q=sap.ui.core.format.NumberFormat.getInstance({},sap.ui.getCore().getConfiguration().getLocale());return(q)?Q.format(parseFloat(q)):q},salesOrderIDFormatter:function(s,S,a){var r;r=s;if(S){r=r+"/"+S}if(a){r=r+"/"+a}return r},assetIDFormatter:function(d,a,A){var s=a;if(A){s=s+"/"+A}if(s){if(d){var b=sap.ca.scfld.md.app.Application.getImpl().getResourceBundle();return b.getText("Formatting.DescriptionAndId",[d,s])}return s}if(d){return d}return""},getAccountAssignmentVisibility:function(a,o){if(!a){return true}if(!a[0]){return true}var p=a[0];if(!o.getModel){return true}var m=o.getModel();if(!m){return true}if(!m.oData){return true}var f=m.oData[p];if(!f){return true}if((f.CostCentre===""||f.CostCentre===undefined)&&(f.WBSElement===""||f.WBSElement===undefined)&&(f.Network===""||f.Network===undefined)&&(f.Order===""||f.Order===undefined)&&(f.SalesOrder===""||f.SalesOrder===undefined)&&(f.Asset===""||f.Asset===undefined)){return true}return false},getOldAccountAssignmentVisibility:function(a){var t=this;return ui.s2p.mm.ses.approve.util.Formatter.getAccountAssignmentVisibility(a,t)},getNewAccountAssignmentVisibility:function(a){var t=this;var r=ui.s2p.mm.ses.approve.util.Formatter.getAccountAssignmentVisibility(a,t);if(r===true){return false}return true},getAccountingObjectS3Format:function(a,c,d){if(d){return a+" "+d+" ("+c+")"}else{return a+" "+c}}};
