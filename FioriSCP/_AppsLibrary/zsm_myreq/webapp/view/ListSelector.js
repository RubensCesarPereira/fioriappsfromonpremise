/*
 * Copyright (C) 2009-2017 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object"],function(B){"use strict";return B.extend("zsm.itsm.myreq.cust.model.ListSelector",{constructor:function(){this._oWhenListHasBeenSet=new Promise(function(r){this._fnResolveListHasBeenSet=r;}.bind(this));this.oWhenListLoadingIsDone=new Promise(function(r,R){this._oWhenListHasBeenSet.then(function(l){l.getBinding("items").attachEventOnce("dataReceived",function(d){if(!d.getParameter("data")){R({list:l,error:true});}var f=l.getItems()[0];if(f){r({list:l,firstListitem:f});}else{R({list:l,error:false});}});});}.bind(this));},setBoundMasterList:function(l){this._oList=l;this._fnResolveListHasBeenSet(l);},selectAListItem:function(b){this.oWhenListLoadingIsDone.then(function(){var l=this._oList,s;if(l.getMode()==="None"){return;}s=l.getSelectedItem();if(s&&s.getBindingContext().getPath()===b){return;}l.getItems().some(function(i){if(i.getBindingContext()&&i.getBindingContext().getPath()===b){l.setSelectedItem(i);return true;}});}.bind(this),function(){jQuery.sap.log.warning("Could not select the list item with the path"+b+" because the list encountered an error or had no items");});},attachListSelectionChange:function(f,l){this._oWhenListHasBeenSet.then(function(){this._oList.attachSelectionChange(f,l);}.bind(this));return this;},detachListSelectionChange:function(f,l){this._oWhenListHasBeenSet.then(function(){this._oList.detachSelectionChange(f,l);}.bind(this));return this;},clearMasterListSelection:function(){this._oWhenListHasBeenSet.then(function(){this._oList.removeSelections(true);}.bind(this));}});});
